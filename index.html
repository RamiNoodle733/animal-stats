<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="Explore scientifically accurate animal statistics presented like video game characters with detailed stats, abilities, and comparisons! Discover fascinating facts about wildlife.">
    <meta name="keywords" content="animal stats, wildlife facts, animal comparison, nature education, animal abilities, scientific data">
    <meta name="author" content="Animal Stats">
    <meta property="og:title" content="Animal Stats - Scientifically Accurate Wildlife Data">
    <meta property="og:description" content="Explore fascinating animal statistics with accurate scientific data presented in an engaging, game-like interface.">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <title>Animal Battle Stats - Scientifically Accurate Wildlife Data</title>
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Bebas+Neue&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Main Game Screen -->
    <div class="game-screen">
        <!-- Header -->
        <header class="game-header">
            <button class="mode-btn active" id="stats-mode-btn" data-mode="stats">
                <i class="fas fa-chart-bar"></i> STATS
            </button>
            <button class="mode-btn" id="compare-mode-btn" data-mode="compare">
                <i class="fas fa-balance-scale"></i> COMPARE
            </button>
            <h1>ANIMAL BATTLE STATS</h1>
            <button class="mode-btn" id="rankings-mode-btn" data-mode="rankings">
                <i class="fas fa-trophy"></i> RANKINGS
            </button>
            <button class="mode-btn" id="community-mode-btn" data-mode="community">
                <i class="fas fa-users"></i> COMMUNITY
            </button>
            <!-- Auth Button -->
            <div class="auth-container" id="auth-container">
                <button class="auth-btn" id="auth-btn">
                    <i class="fas fa-user"></i> <span id="auth-btn-text">LOG IN</span>
                </button>
                <!-- User dropdown (shown when logged in) -->
                <div class="user-dropdown" id="user-dropdown">
                    <div class="user-dropdown-header">
                        <span class="user-avatar" id="user-avatar"><i class="fas fa-user-circle"></i></span>
                        <span class="user-name" id="user-display-name">Username</span>
                    </div>
                    <div class="user-dropdown-menu">
                        <a href="#" class="dropdown-item" id="profile-btn"><i class="fas fa-id-card"></i> Profile</a>
                        <a href="#" class="dropdown-item" id="my-votes-btn"><i class="fas fa-thumbs-up"></i> My Votes</a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item logout" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Log Out</a>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Stats View (Character Select Style) -->
        <div id="stats-view" class="view-container active-view">
            <div class="character-display-area">
                <!-- Left Stats Panel -->
                <div class="stats-panel stats-panel-left">
                    <div class="stat-group" id="left-stats">
                        <!-- ATTACK GROUP -->
                        <div class="stat-group-container">
                            <div class="stat-row">
                                <div class="stat-icon"><i class="fas fa-fist-raised"></i></div>
                                <div class="stat-name">ATTACK</div>
                                <div class="stat-bar-wrapper"><div class="stat-bar"><div class="stat-bar-fill" id="stat-attack-bar" style="width: 0%; background: #ff6b00;"></div></div></div>
                                <div class="stat-value" id="stat-attack-val">0</div>
                            </div>
                            <div class="substat-container">
                                <div class="substat-row">
                                    <span class="substat-label">Raw Power</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-raw-power-bar" style="width: 0%; background: #ff6b00;"></div></div>
                                    <span class="substat-value" id="sub-raw-power-val">0</span>
                                </div>
                                <div class="substat-row">
                                    <span class="substat-label">Weaponry</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-weaponry-bar" style="width: 0%; background: #ff6b00;"></div></div>
                                    <span class="substat-value" id="sub-weaponry-val">0</span>
                                </div>
                            </div>
                        </div>

                        <!-- DEFENSE GROUP -->
                        <div class="stat-group-container">
                            <div class="stat-row">
                                <div class="stat-icon"><i class="fas fa-shield-alt"></i></div>
                                <div class="stat-name">DEFENSE</div>
                                <div class="stat-bar-wrapper"><div class="stat-bar"><div class="stat-bar-fill" id="stat-defense-bar" style="width: 0%; background: #00d4ff;"></div></div></div>
                                <div class="stat-value" id="stat-defense-val">0</div>
                            </div>
                            <div class="substat-container">
                                <div class="substat-row">
                                    <span class="substat-label">Protection</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-protection-bar" style="width: 0%; background: #00d4ff;"></div></div>
                                    <span class="substat-value" id="sub-protection-val">0</span>
                                </div>
                                <div class="substat-row">
                                    <span class="substat-label">Toughness</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-toughness-bar" style="width: 0%; background: #00d4ff;"></div></div>
                                    <span class="substat-value" id="sub-toughness-val">0</span>
                                </div>
                            </div>
                        </div>

                        <!-- AGILITY GROUP -->
                        <div class="stat-group-container">
                            <div class="stat-row">
                                <div class="stat-icon"><i class="fas fa-wind"></i></div>
                                <div class="stat-name">AGILITY</div>
                                <div class="stat-bar-wrapper"><div class="stat-bar"><div class="stat-bar-fill" id="stat-agility-bar" style="width: 0%; background: #00ff88;"></div></div></div>
                                <div class="stat-value" id="stat-agility-val">0</div>
                            </div>
                            <div class="substat-container">
                                <div class="substat-row">
                                    <span class="substat-label">Speed</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-speed-bar" style="width: 0%; background: #00ff88;"></div></div>
                                    <span class="substat-value" id="sub-speed-val">0</span>
                                </div>
                                <div class="substat-row">
                                    <span class="substat-label">Maneuverability</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-maneuverability-bar" style="width: 0%; background: #00ff88;"></div></div>
                                    <span class="substat-value" id="sub-maneuverability-val">0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Center Character Display -->
                <div class="character-showcase">
                    <div class="character-name-display" id="character-name">SELECT AN ANIMAL</div>
                    <div class="character-scientific-name" id="character-scientific">---</div>
                    <div class="character-model-container">
                        <div class="character-silhouette" id="character-silhouette">
                            <i class="fas fa-question"></i>
                        </div>
                        <img id="character-model" class="character-model" src="" alt="" style="display: none;">
                    </div>
                    
                    <!-- Compact info badges -->
                    <div class="character-mini-info" id="character-mini-info"></div>
                </div>
                
                <!-- Right Stats Panel -->
                <div class="stats-panel stats-panel-right">
                    <div class="stat-group" id="right-stats">
                        <!-- STAMINA GROUP -->
                        <div class="stat-group-container">
                            <div class="stat-row">
                                <div class="stat-value" id="stat-stamina-val">0</div>
                                <div class="stat-bar-wrapper"><div class="stat-bar"><div class="stat-bar-fill" id="stat-stamina-bar" style="width: 0%; background: #ff3366;"></div></div></div>
                                <div class="stat-name">STAMINA</div>
                                <div class="stat-icon"><i class="fas fa-heart"></i></div>
                            </div>
                            <div class="substat-container right-align">
                                <div class="substat-row">
                                    <span class="substat-value" id="sub-endurance-val">0</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-endurance-bar" style="width: 0%; background: #ff3366;"></div></div>
                                    <span class="substat-label">Endurance</span>
                                </div>
                                <div class="substat-row">
                                    <span class="substat-value" id="sub-recovery-val">0</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-recovery-bar" style="width: 0%; background: #ff3366;"></div></div>
                                    <span class="substat-label">Recovery</span>
                                </div>
                            </div>
                        </div>

                        <!-- INTEL GROUP -->
                        <div class="stat-group-container">
                            <div class="stat-row">
                                <div class="stat-value" id="stat-intelligence-val">0</div>
                                <div class="stat-bar-wrapper"><div class="stat-bar"><div class="stat-bar-fill" id="stat-intelligence-bar" style="width: 0%; background: #9966ff;"></div></div></div>
                                <div class="stat-name">INTELLIGENCE</div>
                                <div class="stat-icon"><i class="fas fa-brain"></i></div>
                            </div>
                            <div class="substat-container right-align">
                                <div class="substat-row">
                                    <span class="substat-value" id="sub-tactics-val">0</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-tactics-bar" style="width: 0%; background: #9966ff;"></div></div>
                                    <span class="substat-label">Tactics</span>
                                </div>
                                <div class="substat-row">
                                    <span class="substat-value" id="sub-senses-val">0</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-senses-bar" style="width: 0%; background: #9966ff;"></div></div>
                                    <span class="substat-label">Senses</span>
                                </div>
                            </div>
                        </div>

                        <!-- SPECIAL GROUP -->
                        <div class="stat-group-container">
                            <div class="stat-row">
                                <div class="stat-value" id="stat-special-val">0</div>
                                <div class="stat-bar-wrapper"><div class="stat-bar"><div class="stat-bar-fill" id="stat-special-bar" style="width: 0%; background: #ffcc00;"></div></div></div>
                                <div class="stat-name">SPECIAL</div>
                                <div class="stat-icon"><i class="fas fa-bolt"></i></div>
                            </div>
                            <div class="substat-container right-align">
                                <div class="substat-row">
                                    <span class="substat-value" id="sub-ferocity-val">0</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-ferocity-bar" style="width: 0%; background: #ffcc00;"></div></div>
                                    <span class="substat-label">Ferocity</span>
                                </div>
                                <div class="substat-row">
                                    <span class="substat-value" id="sub-abilities-val">0</span>
                                    <div class="substat-bar-bg"><div class="substat-bar-fill" id="sub-abilities-bar" style="width: 0%; background: #ffcc00;"></div></div>
                                    <span class="substat-label">Abilities</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Compact Bottom Info Bar -->
            <div class="bottom-info-bar">
                <button class="toggle-grid-btn" id="toggle-grid-btn">
                    <i class="fas fa-chevron-down"></i> HIDE MENU
                </button>
                <div class="info-separator">•</div>
                <div class="info-item-inline">
                    <i class="fas fa-bolt"></i>
                    <span class="info-label">ABILITIES:</span>
                    <span id="abilities-inline">Select an animal</span>
                </div>
                <div class="info-separator">•</div>
                <div class="info-item-inline">
                    <i class="fas fa-star"></i>
                    <span class="info-label">TRAITS:</span>
                    <span id="traits-inline">Select an animal</span>
                </div>
                <div class="info-separator">•</div>
                <button class="stats-comments-btn" id="stats-comments-btn" disabled>
                    <i class="fas fa-comment"></i> COMMENTS <span class="stats-comment-count" id="stats-comment-count">0</span>
                </button>
                <div class="info-separator">•</div>
                <button class="expand-details-btn" id="expand-details-btn">
                    <i class="fas fa-chevron-down"></i> MORE DETAILS
                </button>
            </div>
            
            <!-- Expandable Details Panel -->
            <div class="details-panel" id="details-panel">
                <!-- Close button for mobile -->
                <div class="details-close-btn">
                    <button id="close-details-btn"><i class="fas fa-times"></i> CLOSE DETAILS</button>
                </div>
                <div class="details-grid">
                    <div class="details-column">
                        <div class="detail-section">
                            <h3><i class="fas fa-paw"></i> CLASSIFICATION</h3>
                            <div class="detail-item"><strong>Type:</strong> <span id="detail-type">---</span></div>
                            <div class="detail-item"><strong>Scientific:</strong> <span id="detail-scientific">---</span></div>
                            <div class="detail-item"><strong>Size Category:</strong> <span id="detail-size">---</span></div>
                        </div>
                        <div class="detail-section">
                            <h3><i class="fas fa-crosshairs"></i> BATTLE PROFILE</h3>
                            <div class="detail-item"><strong>Combat Style:</strong> <span id="detail-combat-style">---</span></div>
                            <div class="detail-item"><strong>Preferred Range:</strong> <span id="detail-range">---</span></div>
                            <div class="detail-item"><strong>Strengths:</strong> <span id="detail-strengths">---</span></div>
                            <div class="detail-item"><strong>Weaknesses:</strong> <span id="detail-weaknesses">---</span></div>
                        </div>
                        <div class="detail-section">
                            <h3><i class="fas fa-map-marked-alt"></i> HABITAT & DIET</h3>
                            <div class="detail-item"><strong>Habitat:</strong> <span id="detail-habitat">---</span></div>
                            <div class="detail-item"><strong>Diet:</strong> <span id="detail-diet">---</span></div>
                            <div class="detail-item"><strong>Nocturnal:</strong> <span id="detail-nocturnal">---</span></div>
                            <div class="detail-item"><strong>Social:</strong> <span id="detail-social">---</span></div>
                        </div>
                    </div>
                    <div class="details-column">
                        <div class="detail-section full-height">
                            <h3><i class="fas fa-ruler-combined"></i> PHYSICAL MEASUREMENTS</h3>
                            <div class="detail-item"><strong>Weight:</strong> <span id="detail-weight">---</span></div>
                            <div class="detail-item"><strong>Height:</strong> <span id="detail-height">---</span></div>
                            <div class="detail-item"><strong>Length:</strong> <span id="detail-length">---</span></div>
                            <div class="detail-item"><strong>Speed:</strong> <span id="detail-speed">---</span></div>
                            <div class="detail-item"><strong>Lifespan:</strong> <span id="detail-lifespan">---</span></div>
                            <div class="detail-item"><strong>Bite Force:</strong> <span id="detail-bite">---</span></div>
                            <div class="detail-item"><strong>Size Score:</strong> <span id="detail-size-score">---</span></div>
                        </div>
                    </div>
                    <div class="details-column">
                        <div class="detail-section full-height">
                            <h3><i class="fas fa-info-circle"></i> DESCRIPTION</h3>
                            <p id="animal-description">Select an animal to view description</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Compare View (Fight Screen Style) -->
        <div id="compare-view" class="view-container">
            <div class="fight-screen">
                <div class="fighter-section fighter-left">
                    <div class="fighter-display">
                        <div class="fighter-placeholder" id="animal-1-placeholder">
                            <i class="fas fa-paw"></i>
                            <p>SELECT<br>ANIMAL 1</p>
                        </div>
                        <img id="animal-1-image" class="fighter-image" src="" alt="" style="display: none;">
                        <div class="fighter-info-overlay">
                            <div class="fighter-name" id="animal-1-name">???</div>
                            <button class="view-stats-btn" id="view-stats-1">VIEW STATS</button>
                        </div>
                    </div>
                    <!-- Stats Panel for Fighter 1 -->
                    <div class="compare-stats-panel" id="compare-stats-1" style="display: none;">
                        <div class="compare-stat-row">
                            <i class="fas fa-fist-raised"></i>
                            <span class="compare-stat-label">ATTACK</span>
                            <span class="compare-stat-value" id="compare-attack-1">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-shield-alt"></i>
                            <span class="compare-stat-label">DEFENSE</span>
                            <span class="compare-stat-value" id="compare-defense-1">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-running"></i>
                            <span class="compare-stat-label">AGILITY</span>
                            <span class="compare-stat-value" id="compare-agility-1">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-heart"></i>
                            <span class="compare-stat-label">STAMINA</span>
                            <span class="compare-stat-value" id="compare-stamina-1">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-brain"></i>
                            <span class="compare-stat-label">INTELLIGENCE</span>
                            <span class="compare-stat-value" id="compare-intelligence-1">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-bolt"></i>
                            <span class="compare-stat-label">SPECIAL</span>
                            <span class="compare-stat-value" id="compare-special-1">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="fight-center">
                    <div class="radar-chart-container">
                        <canvas id="comparison-radar"></canvas>
                    </div>
                </div>
                
                <div class="fighter-section fighter-right">
                    <div class="fighter-display">
                        <div class="fighter-placeholder" id="animal-2-placeholder">
                            <i class="fas fa-paw"></i>
                            <p>SELECT<br>ANIMAL 2</p>
                        </div>
                        <img id="animal-2-image" class="fighter-image" src="" alt="" style="display: none;">
                        <div class="fighter-info-overlay">
                            <div class="fighter-name" id="animal-2-name">???</div>
                            <button class="view-stats-btn" id="view-stats-2">VIEW STATS</button>
                        </div>
                    </div>
                    <!-- Stats Panel for Fighter 2 -->
                    <div class="compare-stats-panel" id="compare-stats-2" style="display: none;">
                        <div class="compare-stat-row">
                            <i class="fas fa-fist-raised"></i>
                            <span class="compare-stat-label">ATTACK</span>
                            <span class="compare-stat-value" id="compare-attack-2">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-shield-alt"></i>
                            <span class="compare-stat-label">DEFENSE</span>
                            <span class="compare-stat-value" id="compare-defense-2">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-running"></i>
                            <span class="compare-stat-label">AGILITY</span>
                            <span class="compare-stat-value" id="compare-agility-2">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-heart"></i>
                            <span class="compare-stat-label">STAMINA</span>
                            <span class="compare-stat-value" id="compare-stamina-2">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-brain"></i>
                            <span class="compare-stat-label">INTELLIGENCE</span>
                            <span class="compare-stat-value" id="compare-intelligence-2">0</span>
                        </div>
                        <div class="compare-stat-row">
                            <i class="fas fa-bolt"></i>
                            <span class="compare-stat-label">SPECIAL</span>
                            <span class="compare-stat-value" id="compare-special-2">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Compare Controls Bar -->
            <div class="bottom-info-bar compare-controls-bar">
                <button class="toggle-grid-btn" id="compare-toggle-grid-btn">
                    <i class="fas fa-chevron-down"></i> HIDE MENU
                </button>
                <button class="fight-btn" id="fight-btn">
                    <i class="fas fa-bolt"></i> FIGHT <i class="fas fa-bolt"></i>
                </button>
                <div style="width: 140px;"></div> <!-- Spacer to balance layout -->
            </div>
        </div>
        
        <!-- Rankings View (Power Leaderboard) -->
        <div id="rankings-view" class="view-container">
            <div class="rankings-container">
                <!-- Rankings Header -->
                <div class="rankings-header">
                    <h2><i class="fas fa-trophy"></i> POWER RANKINGS</h2>
                    <p class="rankings-subtitle">Vote for your favorite animals to determine the ultimate power rankings!</p>
                    <button class="tournament-btn" id="start-tournament-btn">
                        <i class="fas fa-crown"></i> START TOURNAMENT
                    </button>
                    <div class="rankings-login-prompt" id="rankings-login-prompt" style="display: none;">
                        <i class="fas fa-info-circle"></i> <span>Log in to vote and comment!</span>
                    </div>
                </div>
                
                <!-- Rankings Search & Filter -->
                <div class="rankings-controls">
                    <input type="text" id="rankings-search" placeholder="Search animals..." class="search-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" data-form-type="other">
                    <select id="rankings-sort" class="filter-select">
                        <option value="rank">Sort by Rank</option>
                        <option value="upvotes">Most Upvotes</option>
                        <option value="downvotes">Most Downvotes</option>
                        <option value="controversial">Most Controversial</option>
                        <option value="name">Alphabetical</option>
                    </select>
                </div>
                
                <!-- Rankings List -->
                <div class="rankings-list" id="rankings-list">
                    <!-- Rankings will be populated by JavaScript -->
                    <div class="rankings-loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading rankings...
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Community View -->
        <div id="community-view" class="view-container">
            <div class="community-container">
                <!-- Community Header -->
                <div class="community-header">
                    <h2><i class="fas fa-users"></i> COMMUNITY</h2>
                    <p class="community-subtitle">Chat with other animal enthusiasts and see all discussions!</p>
                    <div class="community-login-prompt" id="community-login-prompt">
                        <i class="fas fa-info-circle"></i> <span>Log in to chat, vote and comment!</span>
                    </div>
                </div>
                
                <!-- Community Tabs -->
                <div class="community-tabs">
                    <button class="community-tab active" data-tab="chat">
                        <i class="fas fa-comments"></i> General Chat
                    </button>
                    <button class="community-tab" data-tab="feed">
                        <i class="fas fa-stream"></i> All Comments
                    </button>
                </div>
                
                <!-- Chat Section -->
                <div class="community-section active" id="community-chat-section">
                    <div class="chat-container">
                        <div class="chat-messages" id="chat-messages">
                            <div class="chat-loading">
                                <i class="fas fa-spinner fa-spin"></i> Loading messages...
                            </div>
                        </div>
                        <div class="chat-input-container" id="chat-input-container">
                            <div class="chat-input-wrapper" id="chat-input-wrapper" style="display: none;">
                                <input type="text" id="chat-input" placeholder="Type a message..." maxlength="500" autocomplete="off">
                                <button id="chat-send-btn" class="chat-send-btn">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Comments Feed Section -->
                <div class="community-section" id="community-feed-section">
                    <div class="feed-container">
                        <div class="feed-list" id="feed-list">
                            <div class="feed-loading">
                                <i class="fas fa-spinner fa-spin"></i> Loading comments...
                            </div>
                        </div>
                        <button class="load-more-btn" id="feed-load-more" style="display: none;">
                            <i class="fas fa-chevron-down"></i> Load More Comments
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Animal Grid (Bottom) -->
        <div class="character-grid-container">
            <div class="grid-controls">
                <input type="text" id="search-input" placeholder="Search animals..." class="search-box" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" data-form-type="other">
                
                <!-- Filter Dropdown -->
                <div class="dropdown-menu-container">
                    <button class="dropdown-toggle-btn" id="filter-toggle">
                        <i class="fas fa-filter"></i> FILTER <i class="fas fa-chevron-down dropdown-arrow"></i>
                    </button>
                    <div class="dropdown-panel filter-panel-compact" id="filter-panel">
                        <!-- Category Tabs -->
                        <div class="filter-category-tabs">
                            <button class="filter-tab active" data-category="class">Class</button>
                            <button class="filter-tab" data-category="diet">Diet</button>
                            <button class="filter-tab" data-category="biome">Biome</button>
                        </div>
                        
                        <!-- Category Content -->
                        <div class="filter-category-content">
                            <div class="filter-category active" id="filter-category-class">
                                <div class="checkbox-group" id="class-checkboxes">
                                    <!-- Populated by JS -->
                                </div>
                            </div>
                            <div class="filter-category" id="filter-category-diet">
                                <div class="checkbox-group">
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Carnivore" data-filter="diet"> 
                                        <span>Carnivore</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Herbivore" data-filter="diet"> 
                                        <span>Herbivore</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Omnivore" data-filter="diet"> 
                                        <span>Omnivore</span>
                                    </label>
                                </div>
                            </div>
                            <div class="filter-category" id="filter-category-biome">
                                <div class="checkbox-group">
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Savanna" data-filter="biome"> 
                                        <span>Savanna</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Forest" data-filter="biome"> 
                                        <span>Forest</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Ocean" data-filter="biome"> 
                                        <span>Ocean</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Desert" data-filter="biome"> 
                                        <span>Desert</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Jungle" data-filter="biome"> 
                                        <span>Jungle</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Arctic" data-filter="biome"> 
                                        <span>Arctic</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="River" data-filter="biome"> 
                                        <span>River</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Grassland" data-filter="biome"> 
                                        <span>Grassland</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" value="Mountain" data-filter="biome"> 
                                        <span>Mountain</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <button class="clear-filters-btn" id="clear-filters">
                            <i class="fas fa-times"></i> Clear All
                        </button>
                        
                        <!-- Hidden selects for backwards compatibility -->
                        <select id="class-filter" class="filter-select" style="display: none;">
                            <option value="all">All Classes</option>
                        </select>
                        <select id="diet-filter" class="filter-select" style="display: none;">
                            <option value="all">All Diets</option>
                        </select>
                        <select id="biome-filter" class="filter-select" style="display: none;">
                            <option value="all">All Biomes</option>
                        </select>
                    </div>
                </div>
                
                <!-- Sort Dropdown -->
                <div class="dropdown-menu-container">
                    <button class="dropdown-toggle-btn" id="sort-toggle">
                        <i class="fas fa-sort"></i> SORT <i class="fas fa-chevron-down dropdown-arrow"></i>
                    </button>
                    <div class="dropdown-panel" id="sort-panel">
                        <div class="sort-options">
                            <label class="sort-option">
                                <input type="radio" name="sort" value="rank" id="sort-rank"> 
                                <span><i class="fas fa-trophy"></i> Power Rank</span>
                            </label>
                            <label class="sort-option">
                                <input type="radio" name="sort" value="name" id="sort-name"> 
                                <span><i class="fas fa-font"></i> Name (A-Z)</span>
                            </label>
                            <label class="sort-option">
                                <input type="radio" name="sort" value="attack" id="sort-attack"> 
                                <span><i class="fas fa-fist-raised"></i> Attack</span>
                            </label>
                            <label class="sort-option">
                                <input type="radio" name="sort" value="defense" id="sort-defense"> 
                                <span><i class="fas fa-shield-alt"></i> Defense</span>
                            </label>
                            <label class="sort-option">
                                <input type="radio" name="sort" value="agility" id="sort-agility"> 
                                <span><i class="fas fa-wind"></i> Agility</span>
                            </label>
                            <label class="sort-option">
                                <input type="radio" name="sort" value="stamina" id="sort-stamina"> 
                                <span><i class="fas fa-heart"></i> Stamina</span>
                            </label>
                            <label class="sort-option">
                                <input type="radio" name="sort" value="intelligence" id="sort-intelligence"> 
                                <span><i class="fas fa-brain"></i> Intelligence</span>
                            </label>
                            <label class="sort-option">
                                <input type="radio" name="sort" value="special" id="sort-special"> 
                                <span><i class="fas fa-bolt"></i> Special</span>
                            </label>
                            <label class="sort-option">
                                <input type="radio" name="sort" value="total" id="sort-total"> 
                                <span><i class="fas fa-calculator"></i> Total Stats</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Active Filters Badge (hidden select for backwards compatibility) -->
                <select id="sort-by" class="filter-select" style="display: none;">
                    <option value="rank">Sort by Rank</option>
                    <option value="name">Sort by Name</option>
                    <option value="attack">Sort by Attack</option>
                    <option value="defense">Sort by Defense</option>
                    <option value="agility">Sort by Agility</option>
                    <option value="stamina">Sort by Stamina</option>
                    <option value="intelligence">Sort by Intelligence</option>
                    <option value="special">Sort by Special</option>
                    <option value="total">Sort by Total Stats</option>
                </select>
                
                <span class="active-filters-badge" id="active-filters-badge">
                    <span id="filter-count">0</span> FILTERS
                </span>
            </div>
            
            <div class="character-grid" id="character-grid"></div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="auth-modal" id="auth-modal">
        <div class="auth-modal-content">
            <button class="auth-modal-close" id="auth-modal-close">&times;</button>
            
            <!-- Login Form -->
            <div class="auth-form" id="login-form">
                <h2><i class="fas fa-sign-in-alt"></i> LOG IN</h2>
                <div class="auth-error" id="login-error"></div>
                <div class="form-group">
                    <label for="login-email"><i class="fas fa-envelope"></i> Email or Username</label>
                    <input type="text" id="login-email" placeholder="Enter email or username" autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="login-password"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="login-password" placeholder="Enter password" autocomplete="current-password">
                </div>
                <button class="auth-submit-btn" id="login-submit">
                    <span class="btn-text">LOG IN</span>
                    <span class="btn-loader" style="display: none;"><i class="fas fa-spinner fa-spin"></i></span>
                </button>
                <div class="auth-switch">
                    Don't have an account? <a href="#" id="show-signup">Sign up</a>
                </div>
            </div>
            
            <!-- Signup Form -->
            <div class="auth-form" id="signup-form" style="display: none;">
                <h2><i class="fas fa-user-plus"></i> SIGN UP</h2>
                <div class="auth-error" id="signup-error"></div>
                <div class="form-group">
                    <label for="signup-username"><i class="fas fa-user"></i> Username</label>
                    <input type="text" id="signup-username" placeholder="Choose a username" autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="signup-email"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="signup-email" placeholder="Enter your email" autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="signup-password"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="signup-password" placeholder="Create a password (min 6 characters)" autocomplete="new-password">
                </div>
                <div class="form-group">
                    <label for="signup-confirm"><i class="fas fa-lock"></i> Confirm Password</label>
                    <input type="password" id="signup-confirm" placeholder="Confirm your password" autocomplete="new-password">
                </div>
                <button class="auth-submit-btn" id="signup-submit">
                    <span class="btn-text">CREATE ACCOUNT</span>
                    <span class="btn-loader" style="display: none;"><i class="fas fa-spinner fa-spin"></i></span>
                </button>
                <div class="auth-switch">
                    Already have an account? <a href="#" id="show-login">Log in</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Comments Modal -->
    <div class="comments-modal" id="comments-modal">
        <div class="comments-modal-content">
            <button class="comments-modal-close" id="comments-modal-close">&times;</button>
            
            <!-- Comments Header -->
            <div class="comments-header">
                <div class="comments-animal-info">
                    <img id="comments-animal-image" src="" alt="" class="comments-animal-img">
                    <div>
                        <h2 id="comments-animal-name">Animal Name</h2>
                        <span class="comments-count" id="comments-count">0 comments</span>
                    </div>
                </div>
            </div>
            
            <!-- Add Comment Form -->
            <div class="add-comment-form" id="add-comment-form">
                <div class="reply-indicator" id="reply-indicator" style="display: none;">
                    <span class="reply-text">Replying to...</span>
                    <button class="cancel-reply-btn" id="cancel-reply">&times;</button>
                </div>
                <textarea id="comment-input" placeholder="Share your thoughts about this animal..." maxlength="500"></textarea>
                <div class="comment-form-footer">
                    <div class="comment-options">
                        <label class="anonymous-toggle">
                            <input type="checkbox" id="anonymous-checkbox">
                            <i class="fas fa-mask"></i><span>Anonymous</span>
                        </label>
                    </div>
                    <div class="comment-form-right">
                        <span class="char-count"><span id="char-count">0</span>/500</span>
                        <button class="comment-submit-btn" id="comment-submit">
                            <i class="fas fa-paper-plane"></i> Post
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Comments Login Prompt -->
            <div class="comments-login-prompt" id="comments-login-prompt" style="display: none;">
                <i class="fas fa-lock"></i>
                <span>Log in to leave a comment</span>
                <button class="login-prompt-btn" id="comments-login-btn">LOG IN</button>
            </div>
            
            <!-- Comments List -->
            <div class="comments-list" id="comments-list">
                <!-- Comments will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- Tournament Modal -->
    <div class="tournament-modal" id="tournament-modal">
        <!-- Setup Screen -->
        <div class="tournament-setup" id="tournament-setup">
            <div class="tournament-setup-content">
                <button class="tournament-close-btn" id="tournament-close">&times;</button>
                <div class="tournament-setup-header">
                    <i class="fas fa-crown"></i>
                    <h2>ANIMAL BATTLE TOURNAMENT</h2>
                    <p>Choose your bracket size and battle animals head-to-head to crown the ultimate champion!</p>
                </div>
                <div class="tournament-options">
                    <h3>SELECT BRACKET SIZE</h3>
                    <div class="bracket-options">
                        <button class="bracket-option" data-rounds="8">
                            <span class="bracket-size">8</span>
                            <span class="bracket-label">Animals</span>
                            <span class="bracket-matches">7 Battles</span>
                        </button>
                        <button class="bracket-option" data-rounds="16">
                            <span class="bracket-size">16</span>
                            <span class="bracket-label">Animals</span>
                            <span class="bracket-matches">15 Battles</span>
                        </button>
                        <button class="bracket-option featured" data-rounds="32">
                            <span class="bracket-size">32</span>
                            <span class="bracket-label">Animals</span>
                            <span class="bracket-matches">31 Battles</span>
                        </button>
                        <button class="bracket-option" data-rounds="64">
                            <span class="bracket-size">64</span>
                            <span class="bracket-label">Animals</span>
                            <span class="bracket-matches">63 Battles</span>
                        </button>
                    </div>
                    <div class="tournament-login-note" id="tournament-login-note">
                        <i class="fas fa-info-circle"></i> Log in to save your results and earn points!
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Battle Screen -->
        <div class="tournament-battle" id="tournament-battle" style="display: none;">
            <div class="tournament-battle-header">
                <div class="tournament-progress">
                    <span class="progress-text" id="tournament-progress-text">Round 1 of 3</span>
                    <div class="progress-bar-bg">
                        <div class="progress-bar-fill" id="tournament-progress-bar"></div>
                    </div>
                    <span class="match-text" id="tournament-match-text">Match 1 of 4</span>
                </div>
                <button class="tournament-quit-btn" id="tournament-quit">
                    <i class="fas fa-times"></i> Quit
                </button>
            </div>
            
            <div class="tournament-question">
                <h2>WHO WOULD WIN IN A FIGHT?</h2>
            </div>
            
            <div class="tournament-fighters">
                <div class="tournament-fighter" id="tournament-fighter-1">
                    <div class="fighter-card">
                        <img src="" alt="" class="fighter-img" id="fighter-1-img">
                        <div class="fighter-info">
                            <div class="fighter-name" id="fighter-1-name">Animal 1</div>
                            <div class="fighter-stats">
                                <span><i class="fas fa-fist-raised"></i> <span id="fighter-1-attack">0</span></span>
                                <span><i class="fas fa-shield-alt"></i> <span id="fighter-1-defense">0</span></span>
                                <span><i class="fas fa-bolt"></i> <span id="fighter-1-special">0</span></span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tournament-vs">
                    <span>VS</span>
                </div>
                
                <div class="tournament-fighter" id="tournament-fighter-2">
                    <div class="fighter-card">
                        <img src="" alt="" class="fighter-img" id="fighter-2-img">
                        <div class="fighter-info">
                            <div class="fighter-name" id="fighter-2-name">Animal 2</div>
                            <div class="fighter-stats">
                                <span><i class="fas fa-fist-raised"></i> <span id="fighter-2-attack">0</span></span>
                                <span><i class="fas fa-shield-alt"></i> <span id="fighter-2-defense">0</span></span>
                                <span><i class="fas fa-bolt"></i> <span id="fighter-2-special">0</span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tournament-bracket-preview" id="tournament-bracket-preview">
                <!-- Mini bracket will be rendered here -->
            </div>
        </div>
        
        <!-- Results Screen -->
        <div class="tournament-results" id="tournament-results" style="display: none;">
            <div class="tournament-results-content">
                <div class="results-confetti"></div>
                <div class="champion-crown"><i class="fas fa-crown"></i></div>
                <h2>TOURNAMENT CHAMPION!</h2>
                <div class="champion-display">
                    <img src="" alt="" class="champion-img" id="champion-img">
                    <div class="champion-name" id="champion-name">Champion</div>
                </div>
                <div class="tournament-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="result-matches">0</span>
                        <span class="stat-label">Matches</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="result-bracket">0</span>
                        <span class="stat-label">Bracket Size</span>
                    </div>
                </div>
                <div class="runner-ups">
                    <h3>Final Four</h3>
                    <div class="runner-up-list" id="runner-up-list">
                        <!-- Filled by JS -->
                    </div>
                </div>
                <div class="results-actions">
                    <button class="play-again-btn" id="play-again-btn">
                        <i class="fas fa-redo"></i> Play Again
                    </button>
                    <button class="close-results-btn" id="close-results-btn">
                        <i class="fas fa-times"></i> Close
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="data.js"></script>
    <script src="auth.js"></script>
    <script src="script.js" defer></script>
</body>
</html>
