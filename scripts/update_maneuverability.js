/**
 * Update Maneuverability Substat for All Animals
 * This script updates the maneuverability substat values in MongoDB
 */

require('dotenv').config({ path: '.env.local' });
const mongoose = require('mongoose');

const MONGODB_URI = process.env.MONGODB_URI;

const maneuverabilityStats = {
  "Hummingbird": 100.0,
  "Dragonfly": 99.0,
  "Gibbon": 98.0,
  "Spider Monkey": 97.5,
  "Flying Squirrel": 97.0,
  "Bald Eagle": 96.8,
  "Manta Ray": 96.0,
  "Octopus": 95.5,
  "Red-tailed Hawk": 95.3,
  "Cuttlefish": 95.0,
  "Capuchin Monkey": 94.5,
  "Snowy Owl": 93.2,
  "Gazelle": 92.5,
  "Golden Eagle": 92.3,
  "Baboon": 92.0,
  "Impala": 92.0,
  "Mandrill": 91.5,
  "Proboscis Monkey": 91.0,
  "Pronghorn": 91.0,
  "Japanese Macaque": 90.5,
  "Sable Antelope": 90.5,
  "Hammerhead Shark": 90.0,
  "Ibex": 90.0,
  "Mountain Goat": 90.0,
  "Raccoon": 90.0,
  "Bull Shark": 89.8,
  "Great Horned Owl": 89.6,
  "Harpy Eagle": 89.6,
  "Kangaroo": 89.5,
  "Wallaby": 89.0,
  "Ferret": 88.0,
  "Stoat": 88.0,
  "Tiger Shark": 87.2,
  "Chameleon": 87.0,
  "Meerkat": 87.0,
  "Ring-tailed Lemur": 87.0,
  "Gecko": 86.0,
  "Moray Eel": 85.9,
  "Orca": 83.8,
  "Tarantula Hawk": 82.5,
  "Great White Shark": 82.3,
  "Chimpanzee": 79.9,
  "Peregrine Falcon": 77.9,
  "Barn Owl": 77.4,
  "Orangutan": 76.7,
  "Howler Monkey": 74.5,
  "Gray Wolf": 74.0,
  "Praying Mantis": 72.4,
  "Wildebeest": 68.3,
  "Seal": 68.1,
  "Monitor Lizard": 67.5,
  "Stingray": 65.4,
  "Reindeer": 62.6,
  "Bottlenose Dolphin": 62.2,
  "Sea Lion": 61.4,
  "Sloth": 58.8,
  "Armadillo": 58.6,
  "Mongoose": 58.6,
  "Hedgehog": 58.4,
  "Iguana": 58.3,
  "Vulture": 58.1,
  "Lionfish": 58.0,
  "Macaw": 57.3,
  "Skunk": 56.5,
  "Walrus": 56.5,
  "Poison Dart Frog": 56.3,
  "Kiwi": 56.1,
  "Peacock": 56.0,
  "Anaconda": 55.9,
  "Dhole": 55.8,
  "Musk Ox": 55.8,
  "Fennec Fox": 55.6,
  "Galapagos Tortoise": 55.1,
  "Oryx": 54.9,
  "Porcupine": 54.9,
  "Black Mamba": 54.8,
  "Cockatoo": 54.6,
  "Piranha": 54.4,
  "Donkey": 54.1,
  "Leopard": 54.0,
  "Okapi": 53.8,
  "Zebra": 53.8,
  "Red Panda": 53.6,
  "Capybara": 53.3,
  "Opossum": 53.1,
  "Dingo": 52.8,
  "Python": 52.8,
  "Beaver": 52.6,
  "Snow Leopard": 52.6,
  "Camel Spider": 52.1,
  "Tasmanian Devil": 52.0,
  "Wild Horse": 51.9,
  "Flamingo": 51.4,
  "Badger": 51.3,
  "Blue Whale": 51.1,
  "Kookaburra": 50.4,
  "Colossal Squid": 49.6,
  "Raven": 49.2,
  "Sailfish": 49.2,
  "Swordfish": 49.2,
  "Komodo Dragon": 48.9,
  "Mantis Shrimp": 48.8,
  "Wombat": 48.8,
  "Rattlesnake": 48.6,
  "Caracal": 48.2,
  "Wild Boar": 48.2,
  "Gila Monster": 48.0,
  "Anglerfish": 47.7,
  "Army Ant": 47.4,
  "Axolotl": 47.4,
  "Serval": 47.4,
  "Maned Wolf": 47.0,
  "Anteater": 46.0,
  "King Cobra": 46.0,
  "Bongo": 45.9,
  "Pufferfish": 45.9,
  "Stag Beetle": 45.9,
  "Saltwater Crocodile": 45.8,
  "Jackal": 45.1,
  "Hornet": 45.0,
  "Condor": 44.9,
  "Honey Badger": 44.8,
  "Crow": 44.6,
  "Emperor Penguin": 44.4,
  "Magpie": 44.4,
  "Hyena": 44.1,
  "Otter": 43.4,
  "Black Bear": 43.1,
  "Sawfish": 43.0,
  "Grizzly Bear": 42.6,
  "Lynx": 42.6,
  "Pelican": 42.6,
  "Clouded Leopard": 42.5,
  "Gorilla": 41.4,
  "Stork": 41.4,
  "Bullfrog": 41.3,
  "Toucan": 41.2,
  "Bactrian Camel": 40.8,
  "Warthog": 40.6,
  "Guanaco": 40.3,
  "Emu": 40.0,
  "Salamander": 39.4,
  "African Wild Dog": 39.2,
  "Jaguar": 38.6,
  "Puffin": 38.6,
  "Llama": 38.4,
  "Alligator": 38.3,
  "Red-Eyed Tree Frog": 37.8,
  "Arctic Fox": 37.7,
  "Giant Squid": 37.7,
  "Black Widow": 37.6,
  "Yak": 37.5,
  "Box Jellyfish": 37.4,
  "Pangolin": 37.2,
  "Camel": 36.8,
  "Wolverine": 36.7,
  "Beluga Whale": 36.6,
  "Cape Buffalo": 36.4,
  "King Crab": 36.4,
  "Naked Mole Rat": 36.1,
  "Goose": 35.8,
  "Monarch Butterfly": 35.8,
  "Albatross": 35.0,
  "Electric Eel": 34.8,
  "Deathstalker Scorpion": 34.6,
  "Cassowary": 34.4,
  "Hippopotamus": 34.4,
  "Reticulated Python": 33.6,
  "Swan": 33.6,
  "Bison": 33.4,
  "Cougar": 33.3,
  "Giraffe": 33.3,
  "Goliath Birdeater": 33.2,
  "Hercules Beetle": 33.0,
  "Sugar Glider": 32.7,
  "Koala": 32.5,
  "Quoll": 32.4,
  "Alpaca": 32.2,
  "Rhinoceros": 31.7,
  "Cheetah": 31.6,
  "Boa Constrictor": 31.0,
  "Megalodon": 31.0,
  "Lobster": 30.9,
  "Arctic Wolf": 30.4,
  "Black Rhinoceros": 29.8,
  "Ostrich": 29.8,
  "Green Anaconda": 29.4,
  "Ocelot": 29.4,
  "Hellbender": 29.3,
  "Siberian Tiger": 29.1,
  "Leatherback Sea Turtle": 29.0,
  "Sea Otter": 28.0,
  "Osprey": 27.3,
  "Quokka": 26.8,
  "Kudu": 26.7,
  "Coyote": 26.6,
  "Moose": 26.6,
  "Huntsman Spider": 26.2,
  "Emperor Scorpion": 25.9,
  "Red Fox": 25.8,
  "Shoebill": 25.6,
  "Nautilus": 25.4,
  "Narwhal": 24.8,
  "Bobcat": 24.7,
  "Coconut Crab": 23.9,
  "Tapir": 23.6,
  "Tuna": 23.6,
  "Secretary Bird": 23.5,
  "Polar Bear": 23.1,
  "Snapping Turtle": 23.1,
  "Bullet Ant": 23.0,
  "Marlin": 22.5,
  "Spectacled Bear": 22.3,
  "Barracuda": 22.1,
  "Bighorn Sheep": 21.8,
  "Gaboon Viper": 21.6,
  "Manatee": 21.6,
  "African Lion": 21.5,
  "Black Panther": 21.1,
  "Giant Centipede": 21.1,
  "Platypus": 20.0,
  "Elk": 19.0,
  "Sloth Bear": 15.9,
  "African Elephant": 15.0,
  "Sun Bear": 14.8
};

async function updateManeuverability() {
  try {
    console.log('Connecting to MongoDB...');
    await mongoose.connect(MONGODB_URI);
    console.log('Connected successfully!\n');

    const Animal = mongoose.model('Animal', new mongoose.Schema({}, { strict: false }), 'animals');

    let updated = 0;
    let notFound = 0;

    for (const [name, maneuverability] of Object.entries(maneuverabilityStats)) {
      const result = await Animal.updateOne(
        { name: name },
        { $set: { 'substats.maneuverability': maneuverability } }
      );

      if (result.matchedCount > 0) {
        console.log(`✓ Updated ${name}: maneuverability = ${maneuverability}`);
        updated++;
      } else {
        console.log(`✗ Not found: ${name}`);
        notFound++;
      }
    }

    console.log('\n========== SUMMARY ==========');
    console.log(`Total animals in data: ${Object.keys(maneuverabilityStats).length}`);
    console.log(`Successfully updated: ${updated}`);
    console.log(`Not found: ${notFound}`);

    await mongoose.disconnect();
    console.log('\nDisconnected from MongoDB');

  } catch (error) {
    console.error('Error:', error);
    process.exit(1);
  }
}

updateManeuverability();
