/**
 * Update Senses Substat for All Animals
 * This script updates the senses substat values in MongoDB
 */

require('dotenv').config({ path: '.env.local' });
const mongoose = require('mongoose');

const MONGODB_URI = process.env.MONGODB_URI;

const sensesStats = {
  "Golden Eagle": 100.0,
  "Bald Eagle": 99.0,
  "Harpy Eagle": 98.0,
  "Peregrine Falcon": 97.5,
  "Howler Monkey": 96.4,
  "Barn Owl": 96.0,
  "Great Horned Owl": 96.0,
  "Red-tailed Hawk": 96.0,
  "Snowy Owl": 95.5,
  "Dragonfly": 95.0,
  "Mantis Shrimp": 94.0,
  "African Wild Dog": 93.0,
  "Arctic Wolf": 93.0,
  "Chameleon": 93.0,
  "Gray Wolf": 93.0,
  "Coyote": 92.5,
  "Dhole": 92.5,
  "Dingo": 92.5,
  "Jackal": 92.5,
  "Bull Shark": 92.0,
  "Great White Shark": 92.0,
  "Hammerhead Shark": 92.0,
  "Maned Wolf": 92.0,
  "Tiger Shark": 92.0,
  "Arctic Fox": 91.3,
  "Hummingbird": 91.0,
  "Manta Ray": 91.0,
  "Tarantula Hawk": 90.3,
  "Black Mamba": 90.0,
  "Gaboon Viper": 90.0,
  "King Cobra": 90.0,
  "Piranha": 90.0,
  "Rattlesnake": 90.0,
  "Anaconda": 88.0,
  "Boa Constrictor": 88.0,
  "Python": 88.0,
  "Reticulated Python": 88.0,
  "Cuttlefish": 87.2,
  "Fennec Fox": 87.1,
  "Praying Mantis": 86.2,
  "Octopus": 81.4,
  "Wild Boar": 80.0,
  "Ring-tailed Lemur": 74.2,
  "Monarch Butterfly": 72.9,
  "Goliath Birdeater": 72.6,
  "Goose": 71.5,
  "Red Fox": 70.8,
  "Swan": 70.2,
  "Emperor Penguin": 69.9,
  "Mongoose": 68.5,
  "Ostrich": 68.0,
  "Proboscis Monkey": 67.6,
  "African Elephant": 67.2,
  "Spectacled Bear": 66.8,
  "Green Anaconda": 64.4,
  "Siberian Tiger": 62.5,
  "Rhinoceros": 62.3,
  "Sloth": 58.8,
  "Armadillo": 58.6,
  "Capuchin Monkey": 58.4,
  "Hedgehog": 58.4,
  "Impala": 58.3,
  "Vulture": 58.1,
  "Macaw": 57.3,
  "Pelican": 57.0,
  "Seal": 56.9,
  "Skunk": 56.5,
  "Walrus": 56.5,
  "Poison Dart Frog": 56.3,
  "Black Bear": 56.0,
  "Condor": 56.0,
  "Peacock": 56.0,
  "Musk Ox": 55.8,
  "Clouded Leopard": 55.3,
  "Galapagos Tortoise": 55.1,
  "Mountain Goat": 55.0,
  "Oryx": 54.9,
  "Porcupine": 54.9,
  "Cockatoo": 54.6,
  "Emu": 54.4,
  "Donkey": 54.1,
  "Puffin": 54.0,
  "Hornet": 53.8,
  "Okapi": 53.8,
  "Red Panda": 53.6,
  "Capybara": 53.3,
  "Bullet Ant": 53.1,
  "Opossum": 53.1,
  "Beaver": 52.6,
  "Camel Spider": 52.1,
  "Tasmanian Devil": 52.0,
  "Flamingo": 51.4,
  "Badger": 51.3,
  "Baboon": 51.1,
  "Blue Whale": 51.1,
  "Flying Squirrel": 51.0,
  "Gorilla": 51.0,
  "Leopard": 50.8,
  "Stingray": 50.5,
  "Albatross": 50.4,
  "Kookaburra": 50.4,
  "African Lion": 50.0,
  "Yak": 49.7,
  "Colossal Squid": 49.6,
  "Raven": 49.2,
  "Sailfish": 49.2,
  "Swordfish": 49.2,
  "Kangaroo": 49.0,
  "Komodo Dragon": 48.9,
  "Wombat": 48.8,
  "Toucan": 48.6,
  "Caracal": 48.2,
  "Gila Monster": 48.0,
  "Wallaby": 48.0,
  "Anteater": 47.8,
  "Anglerfish": 47.7,
  "Axolotl": 47.4,
  "Serval": 47.4,
  "Stag Beetle": 46.7,
  "Sun Bear": 46.6,
  "Japanese Macaque": 46.5,
  "Mandrill": 46.2,
  "Kiwi": 46.1,
  "Bongo": 45.9,
  "Pufferfish": 45.9,
  "Saltwater Crocodile": 45.8,
  "Secretary Bird": 45.3,
  "Honey Badger": 44.8,
  "Crow": 44.6,
  "Snow Leopard": 44.6,
  "Magpie": 44.4,
  "Gazelle": 44.2,
  "Hyena": 44.1,
  "Cassowary": 43.6,
  "Otter": 43.4,
  "Sloth Bear": 43.4,
  "Lionfish": 43.0,
  "Sawfish": 43.0,
  "Lynx": 42.6,
  "Hippopotamus": 42.4,
  "Giant Squid": 42.1,
  "Sea Lion": 42.1,
  "Orangutan": 41.9,
  "Stork": 41.4,
  "Bullfrog": 41.3,
  "Bactrian Camel": 40.8,
  "Chimpanzee": 40.6,
  "Warthog": 40.6,
  "Guanaco": 40.3,
  "Stoat": 40.3,
  "Bison": 40.1,
  "Salamander": 39.4,
  "Ibex": 39.3,
  "Elk": 38.9,
  "Black Rhinoceros": 38.8,
  "Jaguar": 38.6,
  "Llama": 38.4,
  "Reindeer": 38.4,
  "Alligator": 38.3,
  "Meerkat": 38.3,
  "Red-Eyed Tree Frog": 37.8,
  "Black Widow": 37.6,
  "Gibbon": 37.6,
  "Moose": 37.5,
  "Box Jellyfish": 37.4,
  "Pangolin": 37.2,
  "Camel": 36.8,
  "Wolverine": 36.7,
  "Beluga Whale": 36.6,
  "King Crab": 36.4,
  "Naked Mole Rat": 36.1,
  "Raccoon": 35.9,
  "Spider Monkey": 35.2,
  "Electric Eel": 34.8,
  "Gecko": 34.6,
  "Polar Bear": 34.4,
  "Cape Buffalo": 34.0,
  "Army Ant": 33.7,
  "Zebra": 33.6,
  "Cougar": 33.3,
  "Deathstalker Scorpion": 33.2,
  "Pronghorn": 33.1,
  "Grizzly Bear": 32.8,
  "Sugar Glider": 32.7,
  "Giraffe": 32.6,
  "Bottlenose Dolphin": 32.5,
  "Koala": 32.5,
  "Quoll": 32.4,
  "Alpaca": 32.2,
  "Cheetah": 31.6,
  "Black Panther": 31.5,
  "Moray Eel": 31.2,
  "Megalodon": 31.0,
  "Lobster": 30.9,
  "Ocelot": 29.4,
  "Hellbender": 29.3,
  "Iguana": 29.1,
  "Leatherback Sea Turtle": 29.0,
  "Hercules Beetle": 28.4,
  "Sea Otter": 28.0,
  "Osprey": 27.3,
  "Monitor Lizard": 27.1,
  "Giant Centipede": 27.0,
  "Quokka": 26.8,
  "Kudu": 26.7,
  "Huntsman Spider": 26.2,
  "Shoebill": 25.6,
  "Nautilus": 25.4,
  "Narwhal": 24.8,
  "Bobcat": 24.7,
  "Coconut Crab": 23.9,
  "Tapir": 23.6,
  "Tuna": 23.6,
  "Wildebeest": 23.4,
  "Ferret": 23.3,
  "Snapping Turtle": 23.1,
  "Marlin": 22.5,
  "Barracuda": 22.1,
  "Bighorn Sheep": 21.8,
  "Manatee": 21.6,
  "Sable Antelope": 21.1,
  "Orca": 20.8,
  "Wild Horse": 20.7,
  "Emperor Scorpion": 20.1,
  "Platypus": 20.0
};

async function updateSenses() {
  try {
    console.log('Connecting to MongoDB...');
    await mongoose.connect(MONGODB_URI);
    console.log('Connected successfully!\n');

    const Animal = mongoose.model('Animal', new mongoose.Schema({}, { strict: false }), 'animals');

    let updated = 0;
    let notFound = 0;

    for (const [name, senses] of Object.entries(sensesStats)) {
      const result = await Animal.updateOne(
        { name: name },
        { $set: { 'substats.senses': senses } }
      );

      if (result.matchedCount > 0) {
        console.log(`✓ Updated ${name}: senses = ${senses}`);
        updated++;
      } else {
        console.log(`✗ Not found: ${name}`);
        notFound++;
      }
    }

    console.log('\n========== SUMMARY ==========');
    console.log(`Total animals in data: ${Object.keys(sensesStats).length}`);
    console.log(`Successfully updated: ${updated}`);
    console.log(`Not found: ${notFound}`);

    await mongoose.disconnect();
    console.log('\nDisconnected from MongoDB');

  } catch (error) {
    console.error('Error:', error);
    process.exit(1);
  }
}

updateSenses();
