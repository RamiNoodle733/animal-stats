/**
 * Update Endurance Substat for All Animals
 * This script updates the endurance substat values in MongoDB
 */

require('dotenv').config({ path: '.env.local' });
const mongoose = require('mongoose');

const MONGODB_URI = process.env.MONGODB_URI;

const enduranceStats = {
  "Camel": 100.0,
  "Bactrian Camel": 98.5,
  "Coyote": 97.5,
  "African Wild Dog": 96.0,
  "Pronghorn": 95.5,
  "Gray Wolf": 95.0,
  "Arctic Wolf": 94.5,
  "Dhole": 94.5,
  "Dingo": 94.5,
  "Albatross": 94.0,
  "Maned Wolf": 93.5,
  "Wildebeest": 93.0,
  "Reindeer": 92.5,
  "Wild Horse": 92.5,
  "Yak": 92.0,
  "Musk Ox": 91.5,
  "Elk": 91.0,
  "Ostrich": 91.0,
  "Gazelle": 90.0,
  "Ibex": 90.0,
  "Impala": 90.0,
  "Mountain Goat": 90.0,
  "Hummingbird": 89.0,
  "Howler Monkey": 79.4,
  "Camel Spider": 75.9,
  "Sable Antelope": 74.5,
  "Great White Shark": 72.2,
  "Tarantula Hawk": 72.0,
  "Narwhal": 71.3,
  "Condor": 71.0,
  "Bald Eagle": 70.8,
  "Clouded Leopard": 70.3,
  "Cougar": 70.3,
  "Snow Leopard": 68.6,
  "Sea Lion": 68.5,
  "Sun Bear": 68.0,
  "Bottlenose Dolphin": 67.7,
  "Bison": 67.4,
  "Hyena": 67.4,
  "Snowy Owl": 66.8,
  "Box Jellyfish": 66.6,
  "Rhinoceros": 65.6,
  "Jackal": 64.0,
  "Beluga Whale": 63.6,
  "Fennec Fox": 62.5,
  "Leopard": 61.7,
  "Grizzly Bear": 61.4,
  "Arctic Fox": 60.2,
  "Black Panther": 59.6,
  "Barn Owl": 59.2,
  "Sloth": 59.1,
  "Armadillo": 59.0,
  "Hedgehog": 58.8,
  "Red Fox": 58.8,
  "Cape Buffalo": 58.1,
  "Bull Shark": 58.0,
  "Macaw": 58.0,
  "Skunk": 57.4,
  "Walrus": 57.4,
  "Poison Dart Frog": 57.2,
  "Kiwi": 57.1,
  "Peacock": 57.0,
  "Anaconda": 56.9,
  "Monitor Lizard": 56.7,
  "Peregrine Falcon": 56.7,
  "Galapagos Tortoise": 56.6,
  "Octopus": 56.6,
  "Siberian Tiger": 56.3,
  "Oryx": 56.2,
  "Porcupine": 56.2,
  "Black Mamba": 56.1,
  "Lionfish": 56.1,
  "Cockatoo": 56.0,
  "Piranha": 55.8,
  "Donkey": 55.6,
  "Harpy Eagle": 55.4,
  "Mongoose": 55.4,
  "Okapi": 55.3,
  "Zebra": 55.3,
  "Red Panda": 55.2,
  "Golden Eagle": 55.1,
  "Capybara": 55.0,
  "Giraffe": 54.9,
  "African Elephant": 54.8,
  "Opossum": 54.8,
  "Python": 54.6,
  "Alligator": 54.5,
  "Beaver": 54.5,
  "Spectacled Bear": 54.3,
  "Great Horned Owl": 54.0,
  "Tasmanian Devil": 54.0,
  "Blue Whale": 53.9,
  "Badger": 53.5,
  "Flamingo": 53.5,
  "Baboon": 53.3,
  "Flying Squirrel": 53.2,
  "Tiger Shark": 53.0,
  "Stingray": 52.9,
  "Kookaburra": 52.8,
  "African Lion": 52.7,
  "Colossal Squid": 52.2,
  "Raven": 51.9,
  "Sailfish": 51.9,
  "Swordfish": 51.9,
  "Kangaroo": 51.8,
  "Komodo Dragon": 51.7,
  "Wombat": 51.6,
  "Black Rhinoceros": 51.5,
  "Black Bear": 51.2,
  "Caracal": 51.2,
  "Wild Boar": 51.1,
  "Gila Monster": 51.0,
  "Wallaby": 51.0,
  "Anglerfish": 50.8,
  "Axolotl": 50.5,
  "Serval": 50.5,
  "Hammerhead Shark": 50.4,
  "Sloth Bear": 50.4,
  "Seal": 50.2,
  "Japanese Macaque": 49.9,
  "Mandrill": 49.7,
  "King Cobra": 49.5,
  "Snapping Turtle": 49.5,
  "Bongo": 49.4,
  "Pufferfish": 49.4,
  "Polar Bear": 48.9,
  "Honey Badger": 48.6,
  "Crow": 48.5,
  "Proboscis Monkey": 48.4,
  "Emperor Penguin": 48.3,
  "Magpie": 48.3,
  "Otter": 47.5,
  "Sawfish": 47.2,
  "Manta Ray": 47.1,
  "Lynx": 47.0,
  "Pelican": 46.9,
  "Orangutan": 46.4,
  "Gorilla": 46.1,
  "Stork": 46.1,
  "Bullfrog": 46.0,
  "Toucan": 45.9,
  "Chimpanzee": 45.5,
  "Warthog": 45.5,
  "Guanaco": 45.2,
  "Stoat": 45.2,
  "Emu": 45.0,
  "Salamander": 44.5,
  "Jaguar": 44.0,
  "Moose": 44.0,
  "Puffin": 44.0,
  "Llama": 43.8,
  "Meerkat": 43.7,
  "Red-Eyed Tree Frog": 43.4,
  "Black Widow": 43.2,
  "Gibbon": 43.2,
  "Hippopotamus": 43.1,
  "Pangolin": 42.9,
  "Wolverine": 42.5,
  "King Crab": 42.3,
  "Naked Mole Rat": 42.1,
  "Saltwater Crocodile": 42.1,
  "Goose": 41.9,
  "Raccoon": 41.9,
  "Red-tailed Hawk": 41.3,
  "Electric Eel": 41.1,
  "Gecko": 40.9,
  "Cassowary": 40.8,
  "Dragonfly": 40.6,
  "Vulture": 40.3,
  "Reticulated Python": 40.2,
  "Swan": 40.2,
  "Deathstalker Scorpion": 39.9,
  "Goliath Birdeater": 39.9,
  "Praying Mantis": 39.5,
  "Sugar Glider": 39.5,
  "Koala": 39.4,
  "Quoll": 39.3,
  "Alpaca": 39.1,
  "Mantis Shrimp": 38.8,
  "Cheetah": 38.7,
  "Moray Eel": 38.4,
  "Boa Constrictor": 38.2,
  "Lobster": 38.2,
  "Megalodon": 38.2,
  "Spider Monkey": 38.2,
  "Army Ant": 37.4,
  "Ocelot": 37.1,
  "Green Anaconda": 37.0,
  "Hellbender": 37.0,
  "Monarch Butterfly": 36.9,
  "Iguana": 36.8,
  "Cuttlefish": 36.3,
  "Anteater": 36.0,
  "Sea Otter": 36.0,
  "Stag Beetle": 35.9,
  "Osprey": 35.5,
  "Capuchin Monkey": 35.3,
  "Quokka": 35.1,
  "Hornet": 35.0,
  "Kudu": 35.0,
  "Huntsman Spider": 34.6,
  "Shoebill": 34.2,
  "Nautilus": 34.0,
  "Bobcat": 33.5,
  "Chameleon": 33.4,
  "Coconut Crab": 32.9,
  "Tapir": 32.7,
  "Tuna": 32.7,
  "Secretary Bird": 32.6,
  "Ferret": 32.5,
  "Marlin": 31.9,
  "Ring-tailed Lemur": 31.8,
  "Barracuda": 31.6,
  "Rattlesnake": 31.5,
  "Bighorn Sheep": 31.4,
  "Gaboon Viper": 31.2,
  "Manatee": 31.2,
  "Orca": 30.6,
  "Emperor Scorpion": 30.1,
  "Platypus": 30.0,
  "Leatherback Sea Turtle": 27.8,
  "Giant Squid": 27.7,
  "Hercules Beetle": 23.0,
  "Bullet Ant": 13.0,
  "Giant Centipede": 11.1
};

async function updateEndurance() {
  try {
    console.log('Connecting to MongoDB...');
    await mongoose.connect(MONGODB_URI);
    console.log('Connected successfully!\n');

    const Animal = mongoose.model('Animal', new mongoose.Schema({}, { strict: false }), 'animals');

    let updated = 0;
    let notFound = 0;

    for (const [name, endurance] of Object.entries(enduranceStats)) {
      const result = await Animal.updateOne(
        { name: name },
        { $set: { 'substats.endurance': endurance } }
      );

      if (result.matchedCount > 0) {
        console.log(`✓ Updated ${name}: endurance = ${endurance}`);
        updated++;
      } else {
        console.log(`✗ Not found: ${name}`);
        notFound++;
      }
    }

    console.log('\n========== SUMMARY ==========');
    console.log(`Total animals in data: ${Object.keys(enduranceStats).length}`);
    console.log(`Successfully updated: ${updated}`);
    console.log(`Not found: ${notFound}`);

    await mongoose.disconnect();
    console.log('\nDisconnected from MongoDB');

  } catch (error) {
    console.error('Error:', error);
    process.exit(1);
  }
}

updateEndurance();
