/**
 * Update Ferocity Substat for All Animals
 * This script updates the ferocity substat values in MongoDB
 */

require('dotenv').config({ path: '.env.local' });
const mongoose = require('mongoose');

const MONGODB_URI = process.env.MONGODB_URI;

const ferocityStats = {
  "Honey Badger": 100.0,
  "Wolverine": 98.0,
  "Tasmanian Devil": 96.5,
  "Cape Buffalo": 96.0,
  "Saltwater Crocodile": 95.0,
  "Great White Shark": 94.5,
  "Bull Shark": 94.0,
  "Tiger Shark": 93.5,
  "Siberian Tiger": 93.0,
  "African Lion": 92.5,
  "Jaguar": 92.0,
  "Leopard": 91.5,
  "Polar Bear": 91.0,
  "Snow Leopard": 91.0,
  "Cougar": 90.5,
  "Grizzly Bear": 90.5,
  "Hyena": 90.0,
  "Komodo Dragon": 89.5,
  "Alligator": 89.0,
  "Cassowary": 88.5,
  "Black Rhinoceros": 88.0,
  "Rhinoceros": 88.0,
  "Hippopotamus": 87.5,
  "Black Bear": 87.0,
  "Wild Boar": 87.0,
  "Warthog": 86.0,
  "African Wild Dog": 85.0,
  "Bison": 85.0,
  "Clouded Leopard": 85.0,
  "Spectacled Bear": 85.0,
  "Sun Bear": 84.5,
  "Gray Wolf": 84.0,
  "Maned Wolf": 84.0,
  "Sloth Bear": 84.0,
  "Walrus": 84.0,
  "Arctic Wolf": 83.5,
  "Dhole": 83.0,
  "Dingo": 83.0,
  "Moose": 83.0,
  "Coyote": 82.5,
  "Elk": 82.0,
  "Jackal": 82.0,
  "Red Fox": 82.0,
  "Sable Antelope": 82.0,
  "Arctic Fox": 80.0,
  "Fennec Fox": 80.0,
  "Hammerhead Shark": 74.2,
  "Sea Lion": 73.3,
  "Lionfish": 66.2,
  "Armadillo": 58.6,
  "Zebra": 58.6,
  "Hedgehog": 58.4,
  "Impala": 58.3,
  "Vulture": 58.1,
  "Harpy Eagle": 57.4,
  "Macaw": 57.3,
  "Bobcat": 57.1,
  "Seal": 56.9,
  "Mongoose": 56.6,
  "Skunk": 56.5,
  "Camel Spider": 56.1,
  "Kiwi": 56.1,
  "Peacock": 56.0,
  "Anaconda": 55.9,
  "Musk Ox": 55.8,
  "Great Horned Owl": 55.6,
  "Octopus": 55.4,
  "Galapagos Tortoise": 55.1,
  "Ring-tailed Lemur": 55.1,
  "Mountain Goat": 55.0,
  "Lynx": 54.9,
  "Oryx": 54.9,
  "Porcupine": 54.9,
  "Black Mamba": 54.8,
  "Cockatoo": 54.6,
  "Giraffe": 54.6,
  "Piranha": 54.4,
  "Donkey": 54.1,
  "Okapi": 53.8,
  "Black Panther": 53.6,
  "Capybara": 53.3,
  "Opossum": 53.1,
  "Python": 52.8,
  "Wild Horse": 52.7,
  "Beaver": 52.6,
  "Flamingo": 51.4,
  "Badger": 51.3,
  "Baboon": 51.1,
  "Blue Whale": 51.1,
  "Flying Squirrel": 51.0,
  "Goose": 50.5,
  "Stingray": 50.5,
  "Kookaburra": 50.4,
  "Colossal Squid": 49.6,
  "Raven": 49.2,
  "Sailfish": 49.2,
  "Swordfish": 49.2,
  "Wombat": 48.8,
  "Caracal": 48.2,
  "Gila Monster": 48.0,
  "Wallaby": 48.0,
  "Anglerfish": 47.7,
  "Axolotl": 47.4,
  "Serval": 47.4,
  "Swan": 47.4,
  "Peregrine Falcon": 46.6,
  "Japanese Macaque": 46.5,
  "Mandrill": 46.2,
  "King Cobra": 46.0,
  "Bongo": 45.9,
  "Llama": 45.9,
  "Pufferfish": 45.9,
  "Camel": 45.2,
  "Condor": 44.9,
  "Crow": 44.6,
  "Emperor Penguin": 44.4,
  "Magpie": 44.4,
  "Gazelle": 44.2,
  "Kangaroo": 44.2,
  "Bactrian Camel": 44.1,
  "Otter": 43.4,
  "Reindeer": 43.0,
  "Sawfish": 43.0,
  "Emu": 42.1,
  "Orangutan": 41.9,
  "Gorilla": 41.4,
  "Stork": 41.4,
  "Toucan": 41.2,
  "Chimpanzee": 40.6,
  "Guanaco": 40.3,
  "Ostrich": 40.3,
  "Stoat": 40.3,
  "Salamander": 39.4,
  "Ibex": 39.3,
  "Alpaca": 38.6,
  "Koala": 38.6,
  "Proboscis Monkey": 38.6,
  "Meerkat": 38.3,
  "Black Widow": 37.6,
  "Gibbon": 37.6,
  "Box Jellyfish": 37.4,
  "Golden Eagle": 37.2,
  "Pangolin": 37.2,
  "Beluga Whale": 36.6,
  "Bald Eagle": 36.5,
  "Puffin": 36.5,
  "King Crab": 36.4,
  "Naked Mole Rat": 36.1,
  "Raccoon": 35.9,
  "Barn Owl": 35.1,
  "Albatross": 35.0,
  "Electric Eel": 34.8,
  "Gecko": 34.6,
  "Reticulated Python": 33.6,
  "Hummingbird": 33.3,
  "Deathstalker Scorpion": 33.2,
  "Goliath Birdeater": 33.2,
  "Pronghorn": 33.1,
  "Sugar Glider": 32.7,
  "Bottlenose Dolphin": 32.5,
  "Quoll": 32.4,
  "Yak": 32.1,
  "Cheetah": 31.6,
  "Moray Eel": 31.2,
  "Boa Constrictor": 31.0,
  "Megalodon": 31.0,
  "Lobster": 30.9,
  "Giant Squid": 29.6,
  "Rattlesnake": 29.6,
  "Dragonfly": 29.5,
  "Green Anaconda": 29.4,
  "Ocelot": 29.4,
  "Hellbender": 29.3,
  "Red-tailed Hawk": 29.3,
  "Iguana": 29.1,
  "Leatherback Sea Turtle": 29.0,
  "Cuttlefish": 28.4,
  "Sea Otter": 28.0,
  "Howler Monkey": 27.8,
  "Tarantula Hawk": 27.7,
  "Osprey": 27.3,
  "Monitor Lizard": 27.1,
  "Pelican": 27.0,
  "Quokka": 26.8,
  "Kudu": 26.7,
  "Huntsman Spider": 26.2,
  "Shoebill": 25.6,
  "Nautilus": 25.4,
  "Hornet": 25.0,
  "Narwhal": 24.8,
  "Red Panda": 24.8,
  "Chameleon": 24.5,
  "Army Ant": 23.9,
  "Coconut Crab": 23.9,
  "Tapir": 23.6,
  "Tuna": 23.6,
  "Secretary Bird": 23.5,
  "Wildebeest": 23.4,
  "Ferret": 23.3,
  "Snapping Turtle": 23.1,
  "Capuchin Monkey": 22.9,
  "Marlin": 22.5,
  "Barracuda": 22.1,
  "Praying Mantis": 22.1,
  "Snowy Owl": 22.0,
  "Bighorn Sheep": 21.8,
  "Gaboon Viper": 21.6,
  "Orca": 20.8,
  "Sloth": 20.7,
  "Emperor Scorpion": 20.1,
  "Platypus": 20.0,
  "African Elephant": 19.0,
  "Hercules Beetle": 18.1,
  "Spider Monkey": 18.1,
  "Giant Centipede": 16.7,
  "Poison Dart Frog": 16.5,
  "Bullfrog": 15.7,
  "Anteater": 13.7,
  "Manatee": 13.4,
  "Manta Ray": 12.2,
  "Bullet Ant": 11.6,
  "Mantis Shrimp": 11.0,
  "Red-Eyed Tree Frog": 10.3,
  "Monarch Butterfly": 8.5,
  "Stag Beetle": 8.0
};

async function updateFerocity() {
  try {
    console.log('Connecting to MongoDB...');
    await mongoose.connect(MONGODB_URI);
    console.log('Connected successfully!\n');

    const Animal = mongoose.model('Animal', new mongoose.Schema({}, { strict: false }), 'animals');

    let updated = 0;
    let notFound = 0;

    for (const [name, ferocity] of Object.entries(ferocityStats)) {
      const result = await Animal.updateOne(
        { name: name },
        { $set: { 'substats.ferocity': ferocity } }
      );

      if (result.matchedCount > 0) {
        console.log(`✓ Updated ${name}: ferocity = ${ferocity}`);
        updated++;
      } else {
        console.log(`✗ Not found: ${name}`);
        notFound++;
      }
    }

    console.log('\n========== SUMMARY ==========');
    console.log(`Total animals in data: ${Object.keys(ferocityStats).length}`);
    console.log(`Successfully updated: ${updated}`);
    console.log(`Not found: ${notFound}`);

    await mongoose.disconnect();
    console.log('\nDisconnected from MongoDB');

  } catch (error) {
    console.error('Error:', error);
    process.exit(1);
  }
}

updateFerocity();
